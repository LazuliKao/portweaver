
{
  "$schema": "portweaver-config.schema.json",
  "projects": [
    {
      "remark": "范围转发",
      "target_address": "127.0.0.1",
      "family": "any",
      "enable_app_forward": true,
      "open_firewall_port": false,
      "add_firewall_forward": false,
      "port_mappings": [
        {
          "listen_port": "8085-8090",
          "target_port": "85-90",
          "protocol": "tcp"
        }
      ]
    },
    {
      "remark": "多个转发",
      "target_address": "127.0.0.1",
      "family": "any",
      "enable_app_forward": true,
      "open_firewall_port": false,
      "add_firewall_forward": false,
      "port_mappings": [
        {
          "listen_port": 8080,
          "target_port": 80,
          "protocol": "tcp",
          "frpc": [
            {
              "node_name": "node1",
              "remote_port": 9888
            }
          ]
        },
        {
          "listen_port": 19132,
          "target_port": 19132,
          "protocol": "udp",
          "frpc": [
            {
              "node_name": "node1",
              "remote_port": 9889
            }
          ]
        }
      ]
    },
    {
      "remark": "TCP转发示例 - HTTP",
      "target_address": "127.0.0.1",
      "listen_port": 8080,
      "target_port": 80,
      "protocol": "tcp",
      "family": "any",
      "enable_app_forward": true,
      "open_firewall_port": false,
      "add_firewall_forward": false
    },
    {
      "remark": "UDP转发示例 - DNS",
      "listen_port": 5353,
      "target_address": "8.8.8.8",
      "target_port": 53,
      "protocol": "udp",
      "family": "ipv4",
      "enable_app_forward": true,
      "open_firewall_port": false,
      "add_firewall_forward": false
    },
    {
      "remark": "TCP+UDP转发示例",
      "listen_port": 9000,
      "target_address": "192.168.1.100",
      "target_port": 9000,
      "protocol": "both",
      "family": "any",
      "enable_app_forward": true,
      "open_firewall_port": false,
      "add_firewall_forward": false
    },
    {
      "remark": "防火墙规则示例（不启用应用层转发）",
      "listen_port": 8443,
      "target_address": "192.168.1.10",
      "target_port": 443,
      "protocol": "tcp",
      "family": "any",
      "enable_app_forward": false,
      "open_firewall_port": true,
      "add_firewall_forward": true,
      "src_zone": [
        "wan"
      ],
      "dest_zone": [
        "lan"
      ]
    }
  ],
  "frpc_nodes": {
    "node1": {
      "enabled": true,
      "server": "1.2.3.4",
      "port": 7000,
      "token": "xxx",
      "log_level": "info",
      "use_encryption": true,
      "use_compression": true
    },
    "node2": {
      "enabled": true,
      "server": "4.2.3.4",
      "port": 7000,
      "token": "xxx",
      "log_level": "info",
      "use_encryption": true,
      "use_compression": true
    }
  },
  "frps_nodes": {
    "server1": {
      "enabled": true,
      "port": 7701,
      "token": "default_token_here",
      "log_level": "info",
      "allow_ports": "2000-3000,5000-6000",
      "bind_addr": "0.0.0.0",
      "max_pool_count": 5,
      "max_ports_per_client": 0,
      "tcp_mux": true,
      "udp_mux": true,
      "kcp_mux": true,
      "dashboard_addr": "0.0.0.0",
      "dashboard_user": "admin",
      "dashboard_pwd": "admin_password"
    }
  },
  "ddns": [
    {
      "name": "cloudflare-home",
      "dns_provider": "cloudflare",
      "dns_id": "",
      "dns_secret": "your_cloudflare_token_here",
      "dns_ext_param": "",
      "ttl": 3600,
      "ipv4_enable": true,
      "ipv4_get_type": "url",
      "ipv4_url": "https://api.ipify.org",
      "ipv4_net_interface": "",
      "ipv4_cmd": "",
      "ipv4_domains": "home.example.com\nwww.home.example.com",
      "ipv6_enable": false,
      "ipv6_get_type": "url",
      "ipv6_url": "",
      "ipv6_net_interface": "",
      "ipv6_cmd": "",
      "ipv6_reg": "",
      "ipv6_domains": "",
      "not_allow_wan_access": true,
      "username": "",
      "password": "",
      "webhook_url": "",
      "webhook_body": "",
      "webhook_headers": ""
    },
    {
      "name": "alidns-office",
      "dns_provider": "alidns",
      "dns_id": "your_aliyun_access_key_id",
      "dns_secret": "your_aliyun_access_key_secret",
      "dns_ext_param": "",
      "ttl": 600,
      "ipv4_enable": true,
      "ipv4_get_type": "net_interface",
      "ipv4_url": "",
      "ipv4_net_interface": "eth0",
      "ipv4_cmd": "",
      "ipv4_domains": "office.example.com",
      "ipv6_enable": true,
      "ipv6_get_type": "net_interface",
      "ipv6_url": "",
      "ipv6_net_interface": "eth0",
      "ipv6_cmd": "",
      "ipv6_reg": "2408:.*",
      "ipv6_domains": "ipv6.example.com",
      "not_allow_wan_access": true,
      "username": "",
      "password": "",
      "webhook_url": "https://hooks.example.com/ddns",
      "webhook_body": "{\"ip\": \"#{ipv4Addr}\", \"ipv6\": \"#{ipv6Addr}\"}",
      "webhook_headers": "Authorization: Bearer your_webhook_token"
    },
    {
      "name": "tencentcloud-server",
      "dns_provider": "tencentcloud",
      "dns_id": "your_tencent_secret_id",
      "dns_secret": "your_tencent_secret_key",
      "dns_ext_param": "",
      "ttl": 600,
      "ipv4_enable": true,
      "ipv4_get_type": "cmd",
      "ipv4_url": "",
      "ipv4_net_interface": "",
      "ipv4_cmd": "curl -s https://api.ipify.org",
      "ipv4_domains": "server.example.com",
      "ipv6_enable": false,
      "ipv6_get_type": "url",
      "ipv6_url": "",
      "ipv6_net_interface": "",
      "ipv6_cmd": "",
      "ipv6_reg": "",
      "ipv6_domains": "",
      "not_allow_wan_access": true,
      "username": "",
      "password": "",
      "webhook_url": "",
      "webhook_body": "",
      "webhook_headers": ""
    }
  ]
}